<ion-header class="ion-no-border mb-3">
  <ion-toolbar color="secondary">
    <div class="text-center">
      <img src="assets/images/Logo_DuocUC.svg.png" alt="" class="Logo-DuocUC mt-2">
    </div>
    <ion-title class="text-center fs-2 mb-3">Sistema de asistencia</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card class="p-3">
    <div class="d-flex flex-column align-items-center mx-4 mt-1">
      <ion-title class="text-center fs-2 mb-3 text-dark">Mis datos personales</ion-title>
    </div>
    <ion-list class="mb-3">
      <ion-input label="Cuenta" [clearInput]="true" label-placement="floating" fill="outline"  [(ngModel)]="username" class="mb-3"
        value="{{ username }}"></ion-input>
      <ion-input label="Nombre" [clearInput]="true" label-placement="floating" fill="outline"  [(ngModel)]="name" class="mb-3"
        value="{{ name }}"></ion-input>
      <ion-input label="Apellido" [clearInput]="true" label-placement="floating" fill="outline" [(ngModel)]="lastname" class="mb-3"
        value="{{ lastname }}"></ion-input>
      <ion-input label="Correo" [clearInput]="true" label-placement="floating" fill="outline" [(ngModel)]="email" class="mb-3"
        value="{{ email }}"></ion-input>
      <ion-input label="Pregunta secreta" [clearInput]="true" label-placement="floating" fill="outline"  [(ngModel)]="securityQuestion" class="mb-3"
        value="{{ securityQuestion }}"></ion-input>
      <ion-input label="Respuesta secreta" [clearInput]="true" label-placement="floating" fill="outline" [(ngModel)]="securityAnswer" class="mb-3"
        value="{{ securityAnswer }}"></ion-input>
      <ion-select label="Nivel educacional" label-placement="floating" fill="outline" [(ngModel)]="educationLevel" class="mb-3">
        <div *ngFor="let edLevel of educationLevels">
          <ion-select-option value="{{ edLevel }}">{{ edLevel }}</ion-select-option>
        </div>
      </ion-select>
      <!-- TODO: bind user birthdate to a date picker (angular material) -->
      <mat-form-field class="w-100">
        <mat-label>Fecha de nacimiento</mat-label>
        <input matInput [matDatepicker]="picker" [(ngModel)]="birthdate" disabled style="color: #797979;">
        <mat-datepicker-toggle matIconSuffix [for]="picker" disabled="false"></mat-datepicker-toggle>
        <mat-datepicker #picker disabled="false"></mat-datepicker>
      </mat-form-field>
    </ion-list>
    <ion-button shape="round" expand="full" class="fs-6 mb-3" (click)="updateUser()">
      <ion-icon name="create-outline"></ion-icon>
      Cambiar datos
    </ion-button>
    <ion-button shape="round" expand="full" class="fs-6 mb-2" fill="outline" color="danger"
      (click)="goChangePassword()"><ion-icon name="key-outline"></ion-icon>
      Cambiar
      contrase√±a
    </ion-button>
  </ion-card>
</ion-content>
