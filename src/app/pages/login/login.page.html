<ion-header class="ion-no-border" [@slideInOut]>
  <ion-toolbar color="secondary">
    <div class="text-center">
      <img src="assets/images/Logo_DuocUC.svg.png" alt="" class="Logo-DuocUC mt-2">
    </div>
    <ion-title class="text-center fs-2 mb-2">{{ 'app.title' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [@fadeInOut]>
  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button color="secondary">
      <ion-icon name="chevron-up-circle"></ion-icon>
    </ion-fab-button>
    <ion-fab-list side="top">
      <ion-fab-button color="medium" href="/theme">
        <ion-icon name="color-palette"></ion-icon>
      </ion-fab-button>
      <ion-fab-button color="medium" id="open-modal">
        <ion-icon name="globe"></ion-icon>
      </ion-fab-button>
    </ion-fab-list>
  </ion-fab>

  <div class="h-100 d-flex flex-column justify-content-evenly content">
    <ion-card class="p-2" [@fadeInOut]>
      <ion-card-header>
        <ion-card-title class="text-center fs-2">{{ 'login.title' | translate }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <form [formGroup]="loginForm" (ngSubmit)="login()">
          <ion-input label="{{ 'login.username' | translate }}" [clearInput]="true" label-placement="floating" fill="outline" id="username"
            placeholder="{{ 'login.username_placeholder' | translate }}" class="mb-3" formControlName="username" [@fadeInOut]></ion-input>
          <ion-input label="{{ 'login.password' | translate }}" label-placement="floating" fill="outline" type="password" class="mb-3" id="password"
            formControlName="password" [@fadeInOut]>
            <ion-input-password-toggle *ngIf="password" slot="end"></ion-input-password-toggle>
          </ion-input>
          <div class="text-center d-flex flex-column">
            <ion-button shape="round" expand="full" type="submit" class="fs-6 mb-2" id="submit-button"
              [disabled]="passwordError || usernameError">{{ 'login.submit' | translate }}</ion-button>
            <ion-button href="/recover-password" size="small" fill="clear" class="fs-6 text-dark "
              [@fadeInOut]>{{ 'login.forgot_password' | translate }}</ion-button>
              <ion-button href="/register" size="small" fill="clear" class="fs-6 text-dark "
              [@fadeInOut]>Registrate</ion-button>
            <ion-button href="/map" size="small" fill="clear" class="fs-6 text-dark"
              [@fadeInOut]>{{ 'login.my_route' | translate }}</ion-button>
          </div>
        </form>
      </ion-card-content>
    </ion-card>
  </div>

  <ion-modal
    trigger="open-modal"
    [initialBreakpoint]="0.25"
    [breakpoints]="[0, 0.25, 0.5, 0.75]"
    handleBehavior="cycle">
    <ng-template>
      <ion-content class="ion-padding">
        <div class="ion-margin-top">
          <ion-list [inset]="true">
            <ion-item (click)="changeLanguage('en')" [button]="true">
              <ion-label class="text-center">{{ 'language.english' | translate }}</ion-label>
            </ion-item>
            <ion-item (click)="changeLanguage('es')" [button]="true">
              <ion-label class="text-center">{{ 'language.spanish' | translate }}</ion-label>
            </ion-item>
            <ion-item (click)="changeLanguage('mapudungun')" [button]="true">
              <ion-label class="text-center">{{ 'language.mapudungun' | translate }}</ion-label>
            </ion-item>
          </ion-list>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>

<ion-footer collapse="fade" [@slideInOut]>
  <ion-toolbar color="dark" class="text-center">
    <img src="assets/images/acreditacion.png" alt="" class="mb-2 mt-3 acreditacion">
    <div class="mb-2 d-flex gap-5 justify-content-center">
      <a href="https://x.com/DuocUC" [@fadeInOut]>
        <ion-icon name="logo-twitter" size="large"></ion-icon>
      </a>
      <a href="https://www.instagram.com/duocuc_cl/" [@fadeInOut]>
        <ion-icon name="logo-instagram" size="large"></ion-icon>
      </a>
      <a href="https://www.linkedin.com/company/duocuc/" [@fadeInOut]>
        <ion-icon name="logo-linkedin" size="large"></ion-icon>
      </a>
    </div>
  </ion-toolbar>
</ion-footer>
